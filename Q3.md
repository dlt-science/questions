### Systems design

You are the engineering lead for a global payments product. How would you design an enterprise-grade backend API which ensures that transactions cannot be processed more than once, even in the presence of concurrency, system crashes, or network delays?

Draw such a system on https://app.diagrams.net/

Talk us through a plausible solution and explain your rationale.
